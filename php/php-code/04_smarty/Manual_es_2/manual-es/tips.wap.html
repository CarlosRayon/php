<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>WAP/WML</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.1">
<link rel="home" href="index.html" title="Smarty Manual">
<link rel="up" href="tips.html" title="Chapter 18. Consejos y Trucos">
<link rel="prev" href="tips.dates.html" title="Fechas">
<link rel="next" href="tips.componentized.templates.html" title="Templates con Componetes">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">WAP/WML</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="tips.dates.html">Prev</a> </td>
<th width="60%" align="center">Chapter 18. Consejos y Trucos</th>
<td width="20%" align="right"> <a accesskey="n" href="tips.componentized.templates.html">Next</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="sect1" title="WAP/WML">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="tips.wap"></a>WAP/WML</h2></div></div></div>
<p>
    Los templates WAP/WML requieren de un encabezado de 
    <a class="ulink" href="http://php.net/header" target="_top">Content-Type</a> de 
    PHP para ser pasado junto con el template. La forma mas fácil de 
    hacer esto seria escribir una función de manera habitual que imprima 
    el encabezado. Si usted esta usando el sistema de  
    <a class="link" href="caching.html" title="Chapter 14. Cache">cache</a>, este no funcionara, entonces 
    nosotros haremos esto usando una etiqueta de 
    <a class="link" href="language.function.insert.html" title="insert">{insert}</a> (recuerde que 
    las etiquetas insert no son "cacheadas!"). Asegurarse que no exista 
    ninguna salida al navegador antes del template, de otro modo el encabezado fallara.
   </p>
<div class="example">
<a name="id2780789"></a><p class="title"><b>Example 18.6. Usando insert para escribir un encabezado WML Content-Type</b></p>
<div class="example-contents">
<pre class="programlisting">

&lt;?php

// Asegurarse que el apache esta configurado para las extenciones .wml !
// ponga esta función en algun lugar de su aplicación, o en Smarty.addons.php
function insert_header($params) 
{
   // this function expects $content argument
   if (empty($params['content'])) {
       return;
   }
   header($params['content']);
   return;
}

?&gt;

    </pre>
<p>
     Su template de Smarty <span class="emphasis"><em>debe</em></span> comenzar con la etiqueta
     insert, como en el ejemplo:
    </p>
<pre class="programlisting">

{insert name=header content="Content-Type: text/vnd.wap.wml"}

&lt;?xml version="1.0"?&gt;  
&lt;!DOCTYPE wml PUBLIC "-//WAPFORUM//DTD WML 1.1//EN" "http://www.wapforum.org/DTD/wml_1.1.xml"&gt; 

&lt;!-- begin new wml deck --&gt; 
&lt;wml&gt; 
&lt;!-- begin first card --&gt; 
&lt;card&gt; 
&lt;do type="accept"&gt; 
&lt;go href="#two"/&gt; 
&lt;/do&gt;  
&lt;p&gt; 
Welcome to WAP with Smarty!
Press OK to continue...  
&lt;/p&gt; 
&lt;/card&gt;  
&lt;!-- begin second card --&gt; 
&lt;card id="two"&gt;  
&lt;p&gt; 
Pretty easy isn't it?
&lt;/p&gt; 
&lt;/card&gt; 
&lt;/wml&gt;

    </pre>
</div>
</div>
<br class="example-break">
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="tips.dates.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="tips.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="tips.componentized.templates.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Fechas </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> Templates con Componetes</td>
</tr>
</table>
</div>
</body>
</html>
